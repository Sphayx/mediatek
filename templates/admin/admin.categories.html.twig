{# empty Twig template #}
{% extends "baseadmin.html.twig" %}

{% block body %}
    <div class="row">
        <div class="col text-center">
            <h1>Gestion des categories</h1>
        </div>
        <div class="form-group col text-end">
            <form class="form-inline mt-l" method ="POST" action="{{ path('admin.categorie.ajout')}}" >
                <input type="text" class="sm" name="nom">  
                <button type="submit" class="btn btn-primary mb-2 btn-sm">Ajouter</button>
            </form>
        </div>
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th class="text-left align-top" scope="col">
                    Catégorie<br />
                </th>
                <th class="text-left align-top" scope="col">
                    Action<br />
                </th>
        <tbody>
            {% for categorie in categories %}
                <tr class="align-middle">
                    <td>
                        <h5 class="text-info">
                            {{ categorie.name }}    
                        </h5>
                    </td>
                    <td>
                        {% if  categorie.nbformations == 0 %}
                            <a href="{{ path('admin.categorie.suppr', {id:categorie.id}) }}" class="btn btn-danger" onclick="return confirm('Etes vous sûr de vouloir supprimer {{ categorie.name }} ?')">Supprimer</a>
                        {% else %}
                            <a href="#" class="btn btn-danger" onclick="return confirm('{{ categorie.name }} ne doit pas contenir de formations pour pouvoir être supprimé')">Supprimer</a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>   

{% endblock %}